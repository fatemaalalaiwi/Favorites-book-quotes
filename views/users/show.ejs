<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>My Profile</title>
  <link rel="stylesheet" href="/styles/main.css" />
</head>
<body>
  <%- include('../partials/_navbar.ejs') %>

  <div class="container">
    <h1>My Profile</h1>

    <section class="profile-section">
      <h2>My Books ðŸ“š</h2>
      <p>
        You Post <%= myListings.length %> 
        <%= myListings.length === 1 ? 'book.' : 'books.' %>
      </p>

      <% if (myListings.length > 0) { %>
      <ul class="listing-list">
        <% myListings.forEach((listing) => { %>
          <li class="listing-item">
            <strong><%= listing.BookName %></strong> by <em><%= listing.Author %></em>.
            <a href="/books/<%= listing._id %>" class="link-btn">View all Quotes</a>
          </li>
        <% }) %>
      </ul>
      <% } else { %>
        <p>No books posted yet.</p>
      <% } %>
    </section>

    <section class="profile-section">
      <h2>My Favorites ðŸ“˜ðŸ“–</h2>
      <p>
        You liked <%= myFavoriteListings.length %>
        <%= myFavoriteListings.length === 1 ? 'book.' : 'books.' %>
      </p>

      <% if (myFavoriteListings.length > 0) { %>
      <ul class="listing-list">
        <% myFavoriteListings.forEach((listing) => { %>
          <li class="listing-item">
            <strong><%= listing.BookName %></strong> by <em><%= listing.Author %></em>.
            <a href="/books/<%= listing._id %>" class="link-btn">View all Quotes</a>
          </li>
        <% }) %>
      </ul>
      <% } else { %>
        <p>No favorite books yet.</p>
      <% } %>
    </section>
  </div>

</body>
</html>
